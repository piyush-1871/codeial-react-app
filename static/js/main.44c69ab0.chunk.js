(this["webpackJsonpcodeial-react-app"]=this["webpackJsonpcodeial-react-app"]||[]).push([[0],{14:function(e,t,n){e.exports={loginSignupHeader:"login_loginSignupHeader__2EU1E",loginForm:"login_loginForm__3W6f4",field:"login_field__137Og"}},17:function(e,t,n){e.exports={nav:"navbar_nav__2gPPv",logo:"navbar_logo__30Erp",logoIcons:"navbar_logoIcons__H6kFJ",userDp:"navbar_userDp__zlJmE",user:"navbar_user__TWBLy",rightNav:"navbar_rightNav__1w85y",navLinks:"navbar_navLinks__1UzBw",searchContainer:"navbar_searchContainer__3oJh0",searchIcon:"navbar_searchIcon__2ha2G",searchResults:"navbar_searchResults__UZ85b",searchResultsRow:"navbar_searchResultsRow__r_pq0"}},3:function(e,t,n){e.exports={postWrapper:"home_postWrapper__3t37W",postHeader:"home_postHeader__3VJcu",postAvatar:"home_postAvatar__3ufge",postAuthor:"home_postAuthor__2Hxzb",postTime:"home_postTime__2o6_w",postContent:"home_postContent__3uaXt",postActions:"home_postActions__318ju",postLike:"home_postLike__2dOtq",postCommentsIcon:"home_postCommentsIcon__3bjhu",postCommentBox:"home_postCommentBox__F2WTj",postCommentsList:"home_postCommentsList__27phf",postCommentItem:"home_postCommentItem__3n5TP",postCommentHeader:"home_postCommentHeader__3fGDo",postCommentAuthor:"home_postCommentAuthor__Nldxa",postCommentTime:"home_postCommentTime__2kx5s",postCommentLikes:"home_postCommentLikes__2bfYU",postCommentContent:"home_postCommentContent__2VFaB",commentLike:"home_commentLike__35N6f",home:"home_home___G5Qj","posts-list":"home_posts-list__1wCWA",friendsList:"home_friendsList__qQ1mb",header:"home_header__OQ0U6",friendsImg:"home_friendsImg__Qqvsk",noFriends:"home_noFriends__3Vry4",friendsItem:"home_friendsItem__P09yA",friendsName:"home_friendsName__Qm0rc",postsList:"home_postsList__2XEUi",createPost:"home_createPost__3Vbv5",addPostBtn:"home_addPostBtn__25CnY",likeButton:"home_likeButton__1l8Ql"}},49:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),c=n(19),r=n.n(c),o=n(11),i=(n(49),n(10)),u=n(22),l=n(9),d=n(12),j=n(23),p=n(2),m=n.n(p),b=n(5),f=n(4),h=n(34),O=n(0),v={user:null,login:function(){},logout:function(){},loading:!0,signup:function(){},updateUser:function(){},updateUserFriends:function(){}},x=Object(s.createContext)(v),g=function(e){var t=e.children,n=Y();return Object(O.jsx)(x.Provider,{value:n,children:t})},_={posts:null,loading:!0,addPostToState:function(){}},N=Object(s.createContext)(_),w=function(e){var t=e.children,n=ee();return Object(O.jsx)(N.Provider,{value:n,children:t})},C="https://codeial.codingninjas.com:8000/api/v2/",k=function(){return"".concat(C,"/users/login")},y=function(){return"".concat(C,"/users/signup")},S=function(e,t){return"".concat(C,"/posts?page=").concat(e,"&limit=").concat(t)},T=function(){return"".concat(C,"/posts/create")},L=function(e){return"".concat(C,"/friendship/create_friendship?user_id=").concat(e)},P=function(){return"".concat(C,"/friendship/fetch_user_friends")},I=function(e){return"".concat(C,"/friendship/remove_friendship?user_id=").concat(e)},B=function(e,t){return"".concat(C,"/likes/toggle?likeable_id=").concat(e,"&likeable_type=").concat(t)},F=function(){return"".concat(C,"/comments")},E=function(){return"".concat(C,"/users/edit")},A=function(e){return"".concat(C,"/users/").concat(e)},U=function(e){return"".concat(C,"/users/search?text=").concat(e)},R="__codeial_token__",D=function(e,t){if(!e||!t)return console.error("Can not store in LS");var n="string"!==typeof t?JSON.stringify(t):t;localStorage.setItem(e,n)},G=function(e){var t=[];for(var n in e){var s=encodeURIComponent(n),a=encodeURIComponent(e[n]);t.push(s+"="+a)}return t.join("&")},H=["body"],V=function(){var e=Object(b.a)(m.a.mark((function e(t,n){var s,a,c,r,o,l,d;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=n.body,a=Object(u.a)(n,H),c=window.localStorage.getItem(R),r={"content-type":"application/x-www-form-urlencoded"},c&&(r.Authorization="Bearer ".concat(c)),o=Object(i.a)(Object(i.a)({},a),{},{headers:Object(i.a)(Object(i.a)({},r),a.headers)}),s&&(o.body=G(s)),e.prev=6,e.next=9,fetch(t,o);case 9:return l=e.sent,e.next=12,l.json();case 12:if(!(d=e.sent).success){e.next=15;break}return e.abrupt("return",{data:d.data,success:!0});case 15:throw new Error(d.message);case 18:return e.prev=18,e.t0=e.catch(6),console.error("error"),e.abrupt("return",{message:e.t0.message,success:!1});case 22:case"end":return e.stop()}}),e,null,[[6,18]])})));return function(t,n){return e.apply(this,arguments)}}(),Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40;return V(S(e,t),{method:"GET"})},W=function(e,t){return V(k(),{method:"POST",body:{email:e,password:t}})},q=function(){var e=Object(b.a)(m.a.mark((function e(t,n,s,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",V(y(),{method:"POST",body:{name:t,email:n,password:s,confirm_password:a}}));case 1:case"end":return e.stop()}}),e)})));return function(t,n,s,a){return e.apply(this,arguments)}}(),J=function(){var e=Object(b.a)(m.a.mark((function e(t,n,s,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",V(E(),{method:"POST",body:{id:t,name:n,password:s,confirm_password:a}}));case 1:case"end":return e.stop()}}),e)})));return function(t,n,s,a){return e.apply(this,arguments)}}(),z=function(e){return V(L(e),{method:"GET"})},Z=function(e){return V(I(e),{method:"GET"})},K=function(e,t){return V(B(e,t),{method:"POST"})},M=function(e){return V(U(e),{method:"GET"})},X=function(){return Object(s.useContext)(x)},Y=function(){var e=Object(s.useState)(null),t=Object(f.a)(e,2),n=t[0],a=t[1],c=Object(s.useState)(!0),r=Object(f.a)(c,2),o=r[0],u=r[1];Object(s.useEffect)((function(){(function(){var e=Object(b.a)(m.a.mark((function e(){var t,n,s,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=(r=R)?localStorage.getItem(r):console.error("Can get the value from LS"))){e.next=9;break}return n=Object(h.a)(t),e.next=5,V(P(),{method:"GET"});case 5:s=e.sent,c=[],s.success&&(c=s.data.friends),a(Object(i.a)(Object(i.a)({},n),{},{friends:c}));case 9:u(!1);case 10:case"end":return e.stop()}var r}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var l=function(){var e=Object(b.a)(m.a.mark((function e(t,n,s,c){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(t,n,s,c);case 2:if(r=e.sent,console.log("response",r),!r.success){e.next=10;break}return a(r.data.user),D(R,r.data.token?r.data.token:null),e.abrupt("return",{success:!0});case 10:return e.abrupt("return",{success:!1,message:r.message});case 11:case"end":return e.stop()}}),e)})));return function(t,n,s,a){return e.apply(this,arguments)}}();return{user:n,login:function(){var e=Object(b.a)(m.a.mark((function e(t,n){var s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W(t,n);case 2:if(!(s=e.sent).success){e.next=9;break}return a(s.data.user),D(R,s.data.token?s.data.token:null),e.abrupt("return",{success:!0});case 9:return e.abrupt("return",{success:!1,message:s.message});case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),logout:function(){a(null),function(e){if(!e)return console.error("Can get the value from LS");localStorage.removeItem(e)}(R)},loading:o,signup:function(){var e=Object(b.a)(m.a.mark((function e(t,n,s,a){var c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q(t,n,s,a);case 2:if(!(c=e.sent).success){e.next=7;break}return e.abrupt("return",{success:!0});case 7:return e.abrupt("return",{success:!1,message:c.message});case 8:case"end":return e.stop()}}),e)})));return function(t,n,s,a){return e.apply(this,arguments)}}(),updateUser:l,updateUserFriends:function(e,t){if(e)a(Object(i.a)(Object(i.a)({},n),{},{friends:[].concat(Object(j.a)(n.friends),[t])}));else{var s=n.friends.filter((function(e){return e.to_user._id!==t.to_user._id}));a(Object(i.a)(Object(i.a)({},n),{},{friends:s}))}}}},$=function(){return Object(s.useContext)(N)},ee=function(){var e=Object(s.useState)(null),t=Object(f.a)(e,2),n=t[0],a=t[1],c=Object(s.useState)(!0),r=Object(f.a)(c,2),o=r[0],u=r[1];Object(s.useEffect)((function(){(function(){var e=Object(b.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q();case 2:(t=e.sent).success&&a(t.data.posts),u(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);return{data:n,loading:o,addPostToState:function(e){var t=[e].concat(Object(j.a)(n));a(t)},addComment:function(e,t){var s=n.map((function(n){return n._id===t?Object(i.a)(Object(i.a)({},n),{},{comments:[].concat(Object(j.a)(n.comments),[e])}):n}));a(s)}}},te=n(3),ne=n.n(te),se=function(){var e=X(),t=$();return t.loading?Object(O.jsx)(fe,{}):Object(O.jsxs)("div",{className:ne.a.home,children:[Object(O.jsxs)("div",{className:ne.a.postsList,children:[Object(O.jsx)(_e,{}),t.data.map((function(e){return Object(O.jsx)(Ne,{post:e},"post-".concat(e._id))}))]}),e.user&&Object(O.jsx)(ge,{})]})},ae=n(14),ce=n.n(ae),re=function(){var e=Object(s.useState)(""),t=Object(f.a)(e,2),n=t[0],a=t[1],c=Object(s.useState)(""),r=Object(f.a)(c,2),i=r[0],u=r[1],d=Object(s.useState)(!1),j=Object(f.a)(d,2),p=j[0],h=j[1],v=Object(o.useToasts)().addToast,x=X(),g=function(){var e=Object(b.a)(m.a.mark((function e(t){var s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),h(!0),n&&i){e.next=4;break}return e.abrupt("return",v("Please enter both email and password",{appearance:"error"}));case 4:return e.next=6,x.login(n,i);case 6:(s=e.sent).success?v("Successfully logged in",{appearance:"success"}):v(s.message,{appearance:"error"}),h(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return x.user?Object(O.jsx)(l.a,{to:"/"}):Object(O.jsxs)("form",{className:ce.a.loginForm,onSubmit:g,children:[Object(O.jsx)("span",{className:ce.a.loginSignupHeader,children:"Log In"}),Object(O.jsx)("div",{className:ce.a.field,children:Object(O.jsx)("input",{type:"email",placeholder:"Email",value:n,onChange:function(e){return a(e.target.value)}})}),Object(O.jsx)("div",{className:ce.a.field,children:Object(O.jsx)("input",{type:"password",placeholder:"Paasword",value:i,onChange:function(e){return u(e.target.value)}})}),Object(O.jsx)("div",{className:ce.a.field,children:Object(O.jsx)("button",{disabled:p,children:p?"Logging in...":"Log In"})})]})},oe=function(){var e=Object(s.useState)(""),t=Object(f.a)(e,2),n=t[0],a=t[1],c=Object(s.useState)(""),r=Object(f.a)(c,2),i=r[0],u=r[1],d=Object(s.useState)(""),j=Object(f.a)(d,2),p=j[0],h=j[1],v=Object(s.useState)(""),x=Object(f.a)(v,2),g=x[0],_=x[1],N=Object(s.useState)(""),w=Object(f.a)(N,2),C=w[0],k=w[1],y=Object(o.useToasts)().addToast,S=X(),T=Object(l.g)(),L=function(){var e=Object(b.a)(m.a.mark((function e(t){var s,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),k(!0),s=!1,n&&i&&p&&g||(y("Please fill all the fields",{appearance:"error",autoDismiss:!0}),s=!0),p!==g&&(y("Make sure password and confirm password matches",{appearance:"error",autoDismiss:!0}),s=!0),!s){e.next=7;break}return e.abrupt("return",k(!1));case 7:return e.next=9,S.signup(n,i,p,g);case 9:if(!(a=e.sent).success){e.next=16;break}return T.push("/login"),k(!1),e.abrupt("return",y("User registered successfully, please login now",{appearance:"success",autoDismiss:!0}));case 16:y(a.message,{appearance:"error",autoDismiss:!0});case 17:k(!1);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return S.user?Object(O.jsx)(l.a,{to:"/"}):Object(O.jsxs)("form",{className:ce.a.loginForm,onSubmit:L,children:[Object(O.jsx)("span",{className:ce.a.loginSignupHeader,children:" Signup"}),Object(O.jsx)("div",{className:ce.a.field,children:Object(O.jsx)("input",{placeholder:"Name",type:"text",required:!0,value:n,onChange:function(e){return a(e.target.value)},autoComplete:"new-password"})}),Object(O.jsx)("div",{className:ce.a.field,children:Object(O.jsx)("input",{placeholder:"Email",type:"email",value:i,onChange:function(e){return u(e.target.value)},autoComplete:"new-password"})}),Object(O.jsx)("div",{className:ce.a.field,children:Object(O.jsx)("input",{placeholder:"Confirm password",type:"password",required:!0,value:p,onChange:function(e){return h(e.target.value)}})}),Object(O.jsx)("div",{className:ce.a.field,children:Object(O.jsx)("input",{placeholder:"Password",type:"password",required:!0,value:g,onChange:function(e){return _(e.target.value)}})}),Object(O.jsx)("div",{className:ce.a.field,children:Object(O.jsx)("button",{disabled:C,children:C?"Signing up...":"Signup"})})]})},ie=n(6),ue=n.n(ie),le=function(){var e,t,n,a=X(),c=Object(s.useState)(!1),r=Object(f.a)(c,2),i=r[0],u=r[1],l=Object(s.useState)((null===(e=a.user)||void 0===e?void 0:e.name)?a.user.name:""),d=Object(f.a)(l,2),j=d[0],p=d[1],h=Object(s.useState)(""),v=Object(f.a)(h,2),x=v[0],g=v[1],_=Object(s.useState)(""),N=Object(f.a)(_,2),w=N[0],C=N[1],k=Object(s.useState)(!1),y=Object(f.a)(k,2),S=y[0],T=y[1],L=Object(o.useToasts)().addToast,P=function(){var e=Object(b.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(T(!0),t=!1,j&&x&&w||(L("Please fill all the fields",{appearance:"error"}),t=!0),x!==w&&(L("Password and confirm password does not match",{appearance:"error"}),t=!0),!t){e.next=6;break}return e.abrupt("return",T(!1));case 6:return e.next=8,a.updateUser(a.user._id,j,x,w);case 8:if(n=e.sent,console.log("settings response",n),!n.success){e.next=17;break}return u(!1),T(!1),g(""),C(""),e.abrupt("return",L("User updated successfully",{appearance:"success"}));case 17:L(n.message,{appearance:"error"});case 18:T(!1);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:ue.a.settings,children:[Object(O.jsx)("div",{className:ue.a.imgContainer,children:Object(O.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/3135/3135715.png",alt:""})}),Object(O.jsxs)("div",{className:ue.a.field,children:[Object(O.jsx)("div",{className:ue.a.fieldLabel,children:"Email"}),Object(O.jsx)("div",{className:ue.a.fieldValue,children:null===(t=a.user)||void 0===t?void 0:t.email})]}),Object(O.jsxs)("div",{className:ue.a.field,children:[Object(O.jsx)("div",{className:ue.a.fieldLabel,children:"Name"}),i?Object(O.jsx)("input",{type:"text",value:j,onChange:function(e){return p(e.target.value)}}):Object(O.jsx)("div",{className:ue.a.fieldValue,children:null===(n=a.user)||void 0===n?void 0:n.name})]}),i&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:ue.a.field,children:[Object(O.jsx)("div",{className:ue.a.fieldLabel,children:"Password"}),Object(O.jsx)("input",{type:"password",value:x,onChange:function(e){return g(e.target.value)}})]}),Object(O.jsxs)("div",{className:ue.a.field,children:[Object(O.jsx)("div",{className:ue.a.fieldLabel,children:"Confirm Password"}),Object(O.jsx)("input",{type:"password",value:w,onChange:function(e){return C(e.target.value)}})]})]}),Object(O.jsx)("div",{className:ue.a.btnGrp,children:i?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("button",{className:"button ".concat(ue.a.saveBtn),onClick:P,disabled:S,children:S?"Saving profile...":"Save profile"}),Object(O.jsx)("button",{className:"button ".concat(ue.a.editBtn),onClick:function(){return u(!1)},children:"Go back"})]}):Object(O.jsx)("button",{className:"button ".concat(ue.a.editBtn),onClick:function(){return u(!0)},children:"Edit Profile"})})]})},de=function(){var e=Object(s.useState)({}),t=Object(f.a)(e,2),n=t[0],a=t[1],c=Object(s.useState)(!0),r=Object(f.a)(c,2),i=r[0],u=r[1],d=Object(s.useState)(!1),j=Object(f.a)(d,2),p=j[0],h=j[1],v=Object(l.h)().userId,x=Object(o.useToasts)().addToast,g=Object(l.g)(),_=X();if(console.log("userId",v),Object(s.useEffect)((function(){(function(){var e=Object(b.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V(A(),{method:"GET"});case 2:if(t=e.sent,console.log(t),!t.success){e.next=8;break}a(t.data.user),e.next=10;break;case 8:return x(t.message,{appearance:"error"}),e.abrupt("return",g.push("/"));case 10:u(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[v]),i)return Object(O.jsx)(fe,{});var N=function(){var e=Object(b.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,Z(t);case 3:e.sent.success?(n=_.user.friends.filter((function(e){return e.to_user._id===t})),_.updateUserFriends(!1,n[0]),x("Friend removed successfully",{appearance:"success"})):x("response.message",{appearance:"error"}),h(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(b.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,z(v);case 3:(t=e.sent).success?(n=t.data.friendship,_.updateUserFriends(!0,n),x("Friend added successfully",{appearance:"success"})):x("response.message",{appearance:"error"}),h(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:ue.a.settings,children:[Object(O.jsx)("div",{className:ue.a.imgContainer,children:Object(O.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/3135/3135715.png",alt:""})}),Object(O.jsxs)("div",{className:ue.a.field,children:[Object(O.jsx)("div",{className:ue.a.fieldLabel,children:"Email"}),Object(O.jsx)("div",{className:ue.a.fieldValue,children:n.email})]}),Object(O.jsxs)("div",{className:ue.a.field,children:[Object(O.jsx)("div",{className:ue.a.fieldLabel,children:"Name"}),Object(O.jsx)("div",{className:ue.a.fieldValue,children:n.name})]}),Object(O.jsx)("div",{className:ue.a.btnGrp,children:-1!==_.user.friends.map((function(e){return e.to_user._id})).indexOf(v)?Object(O.jsx)("button",{className:"button ".concat(ue.a.editBtn),onClick:N,disabled:p,children:p?"Removing friend...":"Remove friend"}):Object(O.jsx)("button",{className:"button ".concat(ue.a.editBtn),onClick:w,disabled:p,children:p?"Adding friend...":"Add friend"})})]})},je=["children"];function pe(e){var t=e.children,n=Object(u.a)(e,je),s=X();return Object(O.jsx)(l.b,Object(i.a)(Object(i.a)({},n),{},{render:function(){return s.user?t:Object(O.jsx)(l.a,{to:"/login"})}}))}var me=function(){return Object(O.jsx)("h1",{children:"404"})};var be=function(){return X().loading?Object(O.jsx)(fe,{}):Object(O.jsx)("div",{className:"App",children:Object(O.jsxs)(d.a,{children:[Object(O.jsx)(ve,{}),Object(O.jsxs)(l.d,{children:[Object(O.jsx)(l.b,{exact:!0,path:"/",children:Object(O.jsx)(se,{})}),Object(O.jsx)(l.b,{exact:!0,path:"/login",children:Object(O.jsx)(re,{})}),Object(O.jsx)(l.b,{exact:!0,path:"/register",children:Object(O.jsx)(oe,{})}),Object(O.jsx)(pe,{exact:!0,path:"/settings",children:Object(O.jsx)(le,{})}),Object(O.jsx)(pe,{exact:!0,path:"/user/:userId",children:Object(O.jsx)(de,{})}),Object(O.jsx)(l.b,{children:Object(O.jsx)(me,{})})]})]})})},fe=function(){return Object(O.jsx)("div",{className:"app-spinner"})},he=n(17),Oe=n.n(he),ve=function(){var e=X(),t=Object(s.useState)([]),n=Object(f.a)(t,2),a=n[0],c=n[1],r=Object(s.useState)(""),o=Object(f.a)(r,2),i=o[0],u=o[1];return Object(s.useEffect)((function(e){var t=function(){var e=Object(b.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(i);case 2:(t=e.sent).success&&c(t.data.users);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();i.length>2?t():c([])}),[i]),Object(O.jsxs)("div",{className:Oe.a.nav,children:[Object(O.jsx)("div",{className:Oe.a.leftDiv,children:Object(O.jsx)(d.b,{to:"/",children:Object(O.jsx)("img",{alt:"",src:"https://ninjasfiles.s3.amazonaws.com/0000000000003454.png"})})}),Object(O.jsxs)("div",{className:Oe.a.searchContainer,children:[Object(O.jsx)("img",{className:Oe.a.searchIcon,src:"https://cdn-icons-png.flaticon.com/128/149/149852.png",alt:""}),Object(O.jsx)("input",{type:"text",placeholder:"Search users",value:i,onChange:function(e){return u(e.target.value)}}),a.length>0&&Object(O.jsx)("div",{className:Oe.a.searchResults,children:Object(O.jsx)("ul",{children:a.map((function(e){return Object(O.jsxs)("li",{className:Oe.a.searchResultsRow,children:[Object(O.jsx)(d.b,{to:"/user/".concat(e._id),children:Object(O.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/128/3135/3135715.png",alt:""})}),Object(O.jsx)("span",{children:e.name})]},"user-".concat(e._id))}))})})]}),Object(O.jsxs)("div",{className:Oe.a.rightNav,children:[e.user&&Object(O.jsxs)("div",{className:Oe.a.user,children:[Object(O.jsx)(d.b,{to:"/settings",children:Object(O.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/128/3135/3135715.png",alt:"",className:Oe.a.userDp})}),Object(O.jsx)("span",{children:e.user.name})]}),Object(O.jsx)("div",{className:Oe.a.navLinks,children:Object(O.jsx)("ul",{children:e.user?Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("li",{onClick:e.logout,children:"Log out"})}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("li",{children:Object(O.jsx)(d.b,{to:"/login",children:"Log in"})}),Object(O.jsx)("li",{children:Object(O.jsx)(d.b,{to:"/register",children:"Register"})})]})})})]})]})},xe=function(e){var t=e.comment,n=Object(o.useToasts)().addToast,s=function(){var e=Object(b.a)(m.a.mark((function e(){var s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(t._id,"Comment");case 2:(s=e.sent).success?s.data.deleted?n("Unliked successfully!!",{appearance:"success"}):n("Liked successfully!!",{appearance:"success"}):n(s.message,{appearance:"error"});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:ne.a.postCommentsItem,children:[Object(O.jsxs)("div",{className:ne.a.postCommentHeader,children:[Object(O.jsx)("span",{className:ne.a.postCommentAuthor,children:t.user.name}),Object(O.jsx)("span",{className:ne.a.postCommentTime,children:"a minute ago"}),Object(O.jsx)("button",{className:ne.a.likeButton,onClick:s,children:Object(O.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/128/2589/2589175.png",alt:""})}),Object(O.jsx)("span",{className:ne.a.postCommentLikes,children:t.likes.length})]}),Object(O.jsx)("div",{className:ne.a.postCommentContent,children:t.content})]})};var ge=function(){var e=X().user.friends,t=void 0===e?[]:e;return Object(O.jsxs)("div",{className:ne.a.friendsList,children:[Object(O.jsx)("div",{className:ne.a.header,children:"Friends"}),t&&0===t.length&&Object(O.jsx)("div",{className:ne.a.noFriends,children:"No Friends Found!"}),t&&t.map((function(e){return Object(O.jsx)("div",{children:Object(O.jsxs)(d.b,{className:ne.a.friendsItem,to:"/user/".concat(e._id),children:[Object(O.jsx)("div",{className:ne.a.friendsImg,children:Object(O.jsx)("img",{src:"",alt:""})}),Object(O.jsx)("div",{className:ne.a.friendsName,children:e.to_user.email})]})},"friend-".concat(t._id))}))]})};var _e=function(){var e=Object(s.useState)(""),t=Object(f.a)(e,2),n=t[0],a=t[1],c=Object(s.useState)(!1),r=Object(f.a)(c,2),i=r[0],u=r[1],l=$(),d=Object(o.useToasts)().addToast,j=function(){var e=Object(b.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,s=n,V(T(),{method:"POST",body:{content:s}});case 3:(t=e.sent).success?(a(""),l.addPostToState(t.data.post),d("Post created successfully!",{appearance:"success"})):d(t.message,{appearance:"error"}),u(!1);case 6:case"end":return e.stop()}var s}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:ne.a.createPost,children:[Object(O.jsx)("textarea",{placeholder:"Create your post!!",className:ne.a.addPost,value:n,onChange:function(e){return a(e.target.value)}}),Object(O.jsx)("div",{children:Object(O.jsx)("button",{className:ne.a.addPostBtn,onClick:j,disabled:i,children:i?"Adding Post..":"Add Post"})})]})};var Ne=function(e){var t=e.post,n=Object(s.useState)(""),a=Object(f.a)(n,2),c=a[0],r=a[1],i=Object(s.useState)(!1),u=Object(f.a)(i,2),l=(u[0],u[1]),j=$(),p=Object(o.useToasts)().addToast,h=function(){var e=Object(b.a)(m.a.mark((function e(n){var s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==n.key){e.next=7;break}return l(!0),e.next=4,a=c,o=t._id,V(F(),{method:"POST",body:{post_id:o,content:a}});case 4:(s=e.sent).success?(r(""),j.addComment(s.data.comment,t._id),p("Comment created successfully!!",{appearance:"success"})):p(s.message,{appearance:"error"}),l(!1);case 7:case"end":return e.stop()}var a,o}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(b.a)(m.a.mark((function e(){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(t._id,"Post");case 2:(n=e.sent).success?n.data.deleted?p("Unliked successfully!!",{appearance:"success"}):p("Liked successfully!!",{appearance:"success"}):p(n.message,{appearance:"error"});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsx)("div",{className:ne.a.postWrapper,children:Object(O.jsxs)("div",{className:ne.a.postHeader,children:[Object(O.jsxs)("div",{className:ne.a.postAvatar,children:[Object(O.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/3135/3135715.png",alt:""}),Object(O.jsxs)("div",{children:[Object(O.jsx)(d.b,{to:{pathname:"/user/".concat(t.user._id),state:{user:t.user}},className:ne.a.postAuthor,children:t.user.name}),Object(O.jsx)("span",{className:ne.a.postTime,children:"a minute ago"})]})]}),Object(O.jsx)("div",{className:ne.a.postContent,children:t.content}),Object(O.jsxs)("div",{className:ne.a.postActions,children:[Object(O.jsxs)("div",{className:ne.a.postLike,children:[Object(O.jsx)("button",{className:ne.a.likeButton,onClick:v,children:Object(O.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/128/2589/2589175.png",alt:""})}),Object(O.jsx)("span",{children:t.likes.length})]}),Object(O.jsxs)("div",{className:ne.a.postCommentsIcon,children:[Object(O.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/128/1380/1380338.png",alt:""}),Object(O.jsx)("span",{children:t.comments.length})]})]}),Object(O.jsx)("div",{className:ne.a.postCommentBox,children:Object(O.jsx)("input",{placeholder:"Start typing a comment",value:c,onChange:function(e){return r(e.target.value)},onKeyDown:h})}),Object(O.jsx)("div",{className:ne.a.postCommentsList,children:t.comments.map((function(e){return Object(O.jsx)(xe,{comment:e},"post-comment-".concat(e._id))}))})]})},t._id)};r.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(o.ToastProvider,{autoDismiss:!0,autoDismissTimeout:5e3,placement:"top-left",children:Object(O.jsx)(g,{children:Object(O.jsx)(w,{children:Object(O.jsx)(be,{})})})})}),document.getElementById("root"))},6:function(e,t,n){e.exports={settings:"settings_settings__3VTQ6",imgContainer:"settings_imgContainer__ZQz8m",btnGrp:"settings_btnGrp__3ASgA",editBtn:"settings_editBtn__3DyR6",saveBtn:"settings_saveBtn__BsUhm",goBack:"settings_goBack__IKZR0",field:"settings_field__2hZLN",fieldLabel:"settings_fieldLabel__3F_7v"}}},[[55,1,2]]]);
//# sourceMappingURL=main.44c69ab0.chunk.js.map